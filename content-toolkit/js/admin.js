if(!jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one(t.support.transition.end,function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e()})}(window.jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed.bs.alert").remove()}var o=t(this),n=o.attr("data-target");n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));var s=t(n);e&&e.preventDefault(),s.length||(s=o.hasClass("alert")?o:o.parent()),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var o=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var o=t(this),n=o.data("bs.alert");n||o.data("bs.alert",n=new i(this)),"string"==typeof e&&n[e].call(o)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(window.jQuery),+function(t){"use strict";var e=function(i,o){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,o)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,o=i.is("input")?"val":"html",n=i.data();t+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof i&&i;n||o.data("bs.button",n=new e(this,s)),"toggle"==i?n.toggle():i&&n.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(window.jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,o=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){i.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),n=i||o[e](),s=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(".item")[r]()}this.sliding=!0,s&&this.pause();var h=t.Event("slide.bs.carousel",{relatedTarget:n[0],direction:a});if(!n.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(h),h.isDefaultPrevented())return;n.addClass(e),n[0].offsetWidth,o.addClass(a),n.addClass(a),o.one(t.support.transition.end,function(){n.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(h),h.isDefaultPrevented())return;o.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i),a="string"==typeof i?i:s.slide;n||o.data("bs.carousel",n=new e(this,s)),"number"==typeof i?n.to(i):a?n[a]():s.interval&&n.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,o=t(this),n=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=t.extend({},n.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),n.carousel(s),(a=o.attr("data-slide-to"))&&n.data("bs.carousel").to(a),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(window.jQuery),+function(t){"use strict";var e=function(i,o){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var o=i.data("bs.collapse");if(o&&o.transitioning)return;i.collapse("hide"),o||i.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("in")[n]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var a=t.camelCase(["scroll",n].join("-"));this.$element.one(t.support.transition.end,t.proxy(s,this)).emulateTransitionEnd(350)[n](this.$element[0][a])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[i](0).one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350),void 0):o.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var o=t(this),n=o.data("bs.collapse"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i);n||o.data("bs.collapse",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,o=t(this),n=o.attr("data-target")||e.preventDefault()||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(n),a=s.data("bs.collapse"),r=a?"toggle":o.data(),l=o.attr("data-parent"),h=l&&t(l);a&&a.transitioning||(h&&h.find('[data-toggle=collapse][data-parent="'+l+'"]').not(o).addClass("collapsed"),o[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(r)})}(window.jQuery),+function(t){"use strict";function e(){t(o).remove(),t(n).each(function(e){var o=i(t(this));o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}var o=".dropdown-backdrop",n="[data-toggle=dropdown]",s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=i(n),a=s.hasClass("open");if(e(),!a){if("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),s.trigger(o=t.Event("show.bs.dropdown")),o.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown")}return n.focus(),!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var s=i(o),a=s.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&s.find(n).focus(),o.click();var r=t("[role=menu] li:not(.divider):visible a",s);if(r.length){var l=r.index(r.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus()}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),o=i.data("dropdown");o||i.data("dropdown",o=new s(this)),"string"==typeof e&&o[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,s.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu]",s.prototype.keydown)}(window.jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$element.one(t.support.transition.end,function(){i.$element.focus().trigger(n)}).emulateTransitionEnd(300):i.$element.focus().trigger(n)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);s||n.data("bs.modal",s=new e(this,a)),"string"==typeof i?s[i](o):a.show&&s.show(o)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),o=i.attr("href"),n=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=n.data("modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},n.data(),i.data());e.preventDefault(),n.modal(s,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("shown.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focus",l="hover"==a?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.options.delay&&i.options.delay.show?(i.hoverState="in",i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,s=n.test(o);s&&(o=o.replace(n,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var a=this.getPosition(),r=i[0].offsetWidth,l=i[0].offsetHeight;if(s){var h=this.$element.parent(),p=o,d=document.documentElement.scrollTop||document.body.scrollTop,c="body"==this.options.container?window.innerWidth:h.outerWidth(),f="body"==this.options.container?window.innerHeight:h.outerHeight(),u="body"==this.options.container?0:h.offset().left;o="bottom"==o&&a.top+a.height+l-d>f?"top":"top"==o&&a.top-d-l<0?"bottom":"right"==o&&a.right+r>c?"left":"left"==o&&a.left-r<u?"right":o,i.removeClass(p).addClass(o)}var v=this.getCalculatedOffset(o,a,r,l);this.applyPlacement(v,o),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top=t.top+a,t.left=t.left+r,o.offset(t).addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;if("top"==e&&h!=s&&(i=!0,t.top=t.top+s-h),/bottom|top/.test(e)){var p=0;t.left<0&&(p=-2*t.left,t.left=0,o.offset(t),l=o[0].offsetWidth,h=o[0].offsetHeight),this.replaceArrow(p-n+l,l,"left")}else this.replaceArrow(h-s,h,"top");i&&o.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){i.detach()}var i=this.tip(),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof i&&i;n||o.data("bs.tooltip",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof i&&i;n||o.data("bs.popover",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),+function(t){"use strict";function e(i,o){var n,s=t.proxy(this.process,this);this.$element=t(i).is("body")?t(window):t(i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||(n=t(i).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var o=t(this),n=o.data("target")||o.attr("href"),s=/^#\w/.test(n)&&t(n);return s&&s.length&&[[s[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,o=i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(e>=o)return a!=(t=s.last()[0])&&this.activate(t);for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(!n[t+1]||e<=n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.attr("data-target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a")[0],s=t.Event("show.bs.tab",{relatedTarget:n});if(e.trigger(s),!s.isDefaultPrevented()){var a=t(o);this.activate(e.parent("li"),i),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:n})})}}},e.prototype.activate=function(e,i,o){function n(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var s=i.find("> .active"),a=o&&t.support.transition&&s.hasClass("fade");a?s.one(t.support.transition.end,n).emulateTransitionEnd(150):n(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new e(this)),"string"==typeof i&&n[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),+function(t){"use strict";var e=function(i,o){this.options=t.extend({},e.DEFAULTS,o),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),o=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,a=s.top,r=s.bottom;"object"!=typeof s&&(r=a=s),"function"==typeof a&&(a=s.top()),"function"==typeof r&&(r=s.bottom());var l=null!=this.unpin&&o+this.unpin<=n.top?!1:null!=r&&n.top+this.$element.height()>=i-r?"bottom":null!=a&&a>=o?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?n.top-o:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-r-this.$element.height()}))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof i&&i;n||o.data("bs.affix",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(window.jQuery);

!function(){function e(e){return function(){return e}}!function(t){var n=this||(0,eval)("this"),a=n.document,r=n.navigator,i=n.jQuery,o=n.JSON;!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.ko={})}(function(u){function s(e,t,n,a){f.d[e]={init:function(e){return f.a.f.set(e,h,{}),{controlsDescendantBindings:!0}},update:function(e,r,i,o,u){i=f.a.f.get(e,h),r=f.a.c(r()),o=!n!=!r;var s=!i.fb;(s||t||o!==i.vb)&&(s&&(i.fb=f.a.Oa(f.e.childNodes(e),!0)),o?(s||f.e.P(e,f.a.Oa(i.fb)),f.Ja(a?a(u,r):u,e)):f.e.ba(e),i.vb=o)}},f.g.S[e]=!1,f.e.L[e]=!0}function l(e,t,n){n&&t!==f.h.n(e)&&f.h.W(e,t),t!==f.h.n(e)&&f.q.I(f.a.Ga,null,[e,"change"])}var f="undefined"!=typeof u?u:{};f.b=function(e,t){for(var n=e.split("."),a=f,r=0;r<n.length-1;r++)a=a[n[r]];a[n[n.length-1]]=t},f.r=function(e,t,n){e[t]=n},f.version="2.3.0",f.b("version",f.version),f.a=function(){function e(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function u(e,t){if("input"!==f.a.u(e)||!e.type||"click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}var s={},l={};s[r&&/Firefox\/2/i.test(r.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],s.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(s,function(e,t){if(t.length)for(var n=0,a=t.length;a>n;n++)l[t[n]]=e});var c={propertychange:!0},d=a&&function(){for(var e=3,n=a.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",r[0];);return e>4?e:t}();return{Ta:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],p:function(e,t){for(var n=0,a=e.length;a>n;n++)t(e[n])},k:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1},La:function(e,t,n){for(var a=0,r=e.length;r>a;a++)if(t.call(n,e[a]))return e[a];return null},ka:function(e,t){var n=f.a.k(e,t);n>=0&&e.splice(n,1)},Ma:function(e){e=e||[];for(var t=[],n=0,a=e.length;a>n;n++)0>f.a.k(t,e[n])&&t.push(e[n]);return t},Z:function(e,t){e=e||[];for(var n=[],a=0,r=e.length;r>a;a++)n.push(t(e[a]));return n},Y:function(e,t){e=e||[];for(var n=[],a=0,r=e.length;r>a;a++)t(e[a])&&n.push(e[a]);return n},R:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,a=t.length;a>n;n++)e.push(t[n]);return e},ja:function(e,t,n){var a=e.indexOf?e.indexOf(t):f.a.k(e,t);0>a?n&&e.push(t):n||e.splice(a,1)},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},w:e,oa:function(e){for(;e.firstChild;)f.removeNode(e.firstChild)},Mb:function(e){e=f.a.N(e);for(var t=a.createElement("div"),n=0,r=e.length;r>n;n++)t.appendChild(f.H(e[n]));return t},Oa:function(e,t){for(var n=0,a=e.length,r=[];a>n;n++){var i=e[n].cloneNode(!0);r.push(t?f.H(i):i)}return r},P:function(e,t){if(f.a.oa(e),t)for(var n=0,a=t.length;a>n;n++)e.appendChild(t[n])},eb:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var a=n[0],r=a.parentNode,i=0,o=t.length;o>i;i++)r.insertBefore(t[i],a);for(i=0,o=n.length;o>i;i++)f.removeNode(n[i])}},hb:function(e,t){7>d?e.setAttribute("selected",t):e.selected=t},F:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Wb:function(e,t){for(var n=[],a=(e||"").split(t),r=0,i=a.length;i>r;r++){var o=f.a.F(a[r]);""!==o&&n.push(o)}return n},Tb:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},yb:function(e,t){if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;null!=e;){if(e==t)return!0;e=e.parentNode}return!1},aa:function(e){return f.a.yb(e,e.ownerDocument)},pb:function(e){return!!f.a.La(e,f.a.aa)},u:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},o:function(e,t,n){var a=d&&c[t];if(a||"undefined"==typeof i)if(a||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var r=function(t){n.call(e,t)},o="on"+t;e.attachEvent(o,r),f.a.C.ia(e,function(){e.detachEvent(o,r)})}else e.addEventListener(t,n,!1);else{if(u(e,t)){var s=n;n=function(e,t){var n=this.checked;t&&(this.checked=!0!==t.sb),s.call(this,e),this.checked=n}}i(e).bind(t,n)}},Ga:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");if("undefined"!=typeof i){var r=[];u(e,t)&&r.push({sb:e.checked}),i(e).trigger(t,r)}else if("function"==typeof a.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");r=a.createEvent(l[t]||"HTMLEvents"),r.initEvent(t,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(r)}else{if("undefined"==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");u(e,t)&&(e.checked=!0!==e.checked),e.fireEvent("on"+t)}},c:function(e){return f.T(e)?e():e},ya:function(e){return f.T(e)?e.t():e},ga:function(e,t,n){if(t){var a=/\S+/g,r=e.className.match(a)||[];f.a.p(t.match(a),function(e){f.a.ja(r,e,n)}),e.className=r.join(" ")}},ib:function(e,n){var r=f.a.c(n);(null===r||r===t)&&(r="");var i=f.e.firstChild(e);!i||3!=i.nodeType||f.e.nextSibling(i)?f.e.P(e,[a.createTextNode(r)]):i.data=r,f.a.Bb(e)},gb:function(e,t){if(e.name=t,7>=d)try{e.mergeAttributes(a.createElement("<input name='"+e.name+"'/>"),!1)}catch(n){}},Bb:function(e){d>=9&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},zb:function(e){if(d){var t=e.style.width;e.style.width=0,e.style.width=t}},Qb:function(e,t){e=f.a.c(e),t=f.a.c(t);for(var n=[],a=e;t>=a;a++)n.push(a);return n},N:function(e){for(var t=[],n=0,a=e.length;a>n;n++)t.push(e[n]);return t},Ub:6===d,Vb:7===d,ca:d,Ua:function(e,t){for(var n=f.a.N(e.getElementsByTagName("input")).concat(f.a.N(e.getElementsByTagName("textarea"))),a="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},r=[],i=n.length-1;i>=0;i--)a(n[i])&&r.push(n[i]);return r},Nb:function(e){return"string"==typeof e&&(e=f.a.F(e))?o&&o.parse?o.parse(e):new Function("return "+e)():null},Ca:function(e,t,n){if(!o||!o.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return o.stringify(f.a.c(e),t,n)},Ob:function(t,n,r){r=r||{};var i=r.params||{},o=r.includeFields||this.Ta,u=t;if("object"==typeof t&&"form"===f.a.u(t))for(var u=t.action,s=o.length-1;s>=0;s--)for(var l=f.a.Ua(t,o[s]),c=l.length-1;c>=0;c--)i[l[c].name]=l[c].value;n=f.a.c(n);var d=a.createElement("form");d.style.display="none",d.action=u,d.method="post";for(var p in n)t=a.createElement("input"),t.name=p,t.value=f.a.Ca(f.a.c(n[p])),d.appendChild(t);e(i,function(e,t){var n=a.createElement("input");n.name=e,n.value=t,d.appendChild(n)}),a.body.appendChild(d),r.submitter?r.submitter(d):d.submit(),setTimeout(function(){d.parentNode.removeChild(d)},0)}}}(),f.b("utils",f.a),f.b("utils.arrayForEach",f.a.p),f.b("utils.arrayFirst",f.a.La),f.b("utils.arrayFilter",f.a.Y),f.b("utils.arrayGetDistinctValues",f.a.Ma),f.b("utils.arrayIndexOf",f.a.k),f.b("utils.arrayMap",f.a.Z),f.b("utils.arrayPushAll",f.a.R),f.b("utils.arrayRemoveItem",f.a.ka),f.b("utils.extend",f.a.extend),f.b("utils.fieldsIncludedWithJsonPost",f.a.Ta),f.b("utils.getFormFields",f.a.Ua),f.b("utils.peekObservable",f.a.ya),f.b("utils.postJson",f.a.Ob),f.b("utils.parseJson",f.a.Nb),f.b("utils.registerEventHandler",f.a.o),f.b("utils.stringifyJson",f.a.Ca),f.b("utils.range",f.a.Qb),f.b("utils.toggleDomNodeCssClass",f.a.ga),f.b("utils.triggerEvent",f.a.Ga),f.b("utils.unwrapObservable",f.a.c),f.b("utils.objectForEach",f.a.w),f.b("utils.addOrRemoveItem",f.a.ja),f.b("unwrap",f.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments);return e=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),f.a.f=new function(){var e=0,n="__ko__"+(new Date).getTime(),a={};return{get:function(e,n){var a=f.a.f.pa(e,!1);return a===t?t:a[n]},set:function(e,n,a){(a!==t||f.a.f.pa(e,!1)!==t)&&(f.a.f.pa(e,!0)[n]=a)},pa:function(r,i){var o=r[n];if(!o||"null"===o||!a[o]){if(!i)return t;o=r[n]="ko"+e++,a[o]={}}return a[o]},clear:function(e){var t=e[n];return t?(delete a[t],e[n]=null,!0):!1}}},f.b("utils.domData",f.a.f),f.b("utils.domData.clear",f.a.f.clear),f.a.C=new function(){function e(e,n){var r=f.a.f.get(e,a);return r===t&&n&&(r=[],f.a.f.set(e,a,r)),r}function n(t){var a=e(t,!1);if(a)for(var a=a.slice(0),r=0;r<a.length;r++)a[r](t);if(f.a.f.clear(t),"function"==typeof i&&"function"==typeof i.cleanData&&i.cleanData([t]),o[t.nodeType])for(a=t.firstChild;t=a;)a=t.nextSibling,8===t.nodeType&&n(t)}var a="__ko_domNodeDisposal__"+(new Date).getTime(),r={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{ia:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},cb:function(n,r){var i=e(n,!1);i&&(f.a.ka(i,r),0==i.length&&f.a.f.set(n,a,t))},H:function(e){if(r[e.nodeType]&&(n(e),o[e.nodeType])){var t=[];f.a.R(t,e.getElementsByTagName("*"));for(var a=0,i=t.length;i>a;a++)n(t[a])}return e},removeNode:function(e){f.H(e),e.parentNode&&e.parentNode.removeChild(e)}}},f.H=f.a.C.H,f.removeNode=f.a.C.removeNode,f.b("cleanNode",f.H),f.b("removeNode",f.removeNode),f.b("utils.domNodeDisposal",f.a.C),f.b("utils.domNodeDisposal.addDisposeCallback",f.a.C.ia),f.b("utils.domNodeDisposal.removeDisposeCallback",f.a.C.cb),function(){f.a.xa=function(e){var t;if("undefined"!=typeof i){if(i.parseHTML)t=i.parseHTML(e)||[];else if((t=i.clean([e]))&&t[0]){for(e=t[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var r=f.a.F(e).toLowerCase();for(t=a.createElement("div"),r=r.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!r.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!r.indexOf("<td")||!r.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+r[1]+e+r[2]+"</div>","function"==typeof n.innerShiv?t.appendChild(n.innerShiv(e)):t.innerHTML=e;r[0]--;)t=t.lastChild;t=f.a.N(t.lastChild.childNodes)}return t},f.a.fa=function(e,n){if(f.a.oa(e),n=f.a.c(n),null!==n&&n!==t)if("string"!=typeof n&&(n=n.toString()),"undefined"!=typeof i)i(e).html(n);else for(var a=f.a.xa(n),r=0;r<a.length;r++)e.appendChild(a[r])}}(),f.b("utils.parseHtmlFragment",f.a.xa),f.b("utils.setHtml",f.a.fa),f.s=function(){function e(t,n){if(t)if(8==t.nodeType){var a=f.s.$a(t.nodeValue);null!=a&&n.push({xb:t,Kb:a})}else if(1==t.nodeType)for(var a=0,r=t.childNodes,i=r.length;i>a;a++)e(r[a],n)}var n={};return{va:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(0|4294967296*(1+Math.random())).toString(16).substring(1)+(0|4294967296*(1+Math.random())).toString(16).substring(1);return n[t]=e,"<!--[ko_memo:"+t+"]-->"},mb:function(e,a){var r=n[e];if(r===t)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,a||[]),!0}finally{delete n[e]}},nb:function(t,n){var a=[];e(t,a);for(var r=0,i=a.length;i>r;r++){var o=a[r].xb,u=[o];n&&f.a.R(u,n),f.s.mb(a[r].Kb,u),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},$a:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),f.b("memoization",f.s),f.b("memoization.memoize",f.s.va),f.b("memoization.unmemoize",f.s.mb),f.b("memoization.parseMemoText",f.s.$a),f.b("memoization.unmemoizeDomNodeAndDescendants",f.s.nb),f.Sa={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return f.j({read:e,write:function(a){clearTimeout(n),n=setTimeout(function(){e(a)},t)}})},notify:function(t,n){return t.equalityComparer="always"==n?e(!1):f.m.fn.equalityComparer,t}},f.b("extenders",f.Sa),f.kb=function(e,t,n){this.target=e,this.la=t,this.wb=n,f.r(this,"dispose",this.B)},f.kb.prototype.B=function(){this.Hb=!0,this.wb()},f.V=function(){this.G={},f.a.extend(this,f.V.fn),f.r(this,"subscribe",this.Da),f.r(this,"extend",this.extend),f.r(this,"getSubscriptionsCount",this.Db)},f.V.fn={Da:function(e,t,n){n=n||"change";var a=new f.kb(this,t?e.bind(t):e,function(){f.a.ka(this.G[n],a)}.bind(this));return this.G[n]||(this.G[n]=[]),this.G[n].push(a),a},notifySubscribers:function(e,t){t=t||"change",this.G[t]&&f.q.I(function(){f.a.p(this.G[t].slice(0),function(t){t&&!0!==t.Hb&&t.la(e)})},this)},Db:function(){var e=0;return f.a.w(this.G,function(t,n){e+=n.length}),e},extend:function(e){var t=this;return e&&f.a.w(e,function(e,n){var a=f.Sa[e];"function"==typeof a&&(t=a(t,n))}),t}},f.Wa=function(e){return null!=e&&"function"==typeof e.Da&&"function"==typeof e.notifySubscribers},f.b("subscribable",f.V),f.b("isSubscribable",f.Wa),f.q=function(){var e=[];return{rb:function(t){e.push({la:t,Ra:[]})},end:function(){e.pop()},bb:function(t){if(!f.Wa(t))throw Error("Only subscribable things can act as dependencies");if(0<e.length){var n=e[e.length-1];!n||0<=f.a.k(n.Ra,t)||(n.Ra.push(t),n.la(t))}},I:function(t,n,a){try{return e.push(null),t.apply(n,a||[])}finally{e.pop()}}}}();var c={undefined:!0,"boolean":!0,number:!0,string:!0};f.m=function(e){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(n,arguments[0])||(t.K(),n=arguments[0],t.J()),this):(f.q.bb(t),n)}var n=e;return f.V.call(t),t.t=function(){return n},t.J=function(){t.notifySubscribers(n)},t.K=function(){t.notifySubscribers(n,"beforeChange")},f.a.extend(t,f.m.fn),f.r(t,"peek",t.t),f.r(t,"valueHasMutated",t.J),f.r(t,"valueWillMutate",t.K),t},f.m.fn={equalityComparer:function(e,t){return null===e||typeof e in c?e===t:!1}};var d=f.m.Pb="__ko_proto__";f.m.fn[d]=f.m,f.qa=function(e,n){return null===e||e===t||e[d]===t?!1:e[d]===n?!0:f.qa(e[d],n)},f.T=function(e){return f.qa(e,f.m)},f.Xa=function(e){return"function"==typeof e&&e[d]===f.m||"function"==typeof e&&e[d]===f.j&&e.Eb?!0:!1},f.b("observable",f.m),f.b("isObservable",f.T),f.b("isWriteableObservable",f.Xa),f.U=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=f.m(e),f.a.extend(e,f.U.fn),e},f.U.fn={remove:function(e){for(var t=this.t(),n=[],a="function"==typeof e?e:function(t){return t===e},r=0;r<t.length;r++){var i=t[r];a(i)&&(0===n.length&&this.K(),n.push(i),t.splice(r,1),r--)}return n.length&&this.J(),n},removeAll:function(e){if(e===t){var n=this.t(),a=n.slice(0);return this.K(),n.splice(0,n.length),this.J(),a}return e?this.remove(function(t){return 0<=f.a.k(e,t)}):[]},destroy:function(e){var t=this.t(),n="function"==typeof e?e:function(t){return t===e};this.K();for(var a=t.length-1;a>=0;a--)n(t[a])&&(t[a]._destroy=!0);this.J()},destroyAll:function(n){return n===t?this.destroy(e(!0)):n?this.destroy(function(e){return 0<=f.a.k(n,e)}):[]},indexOf:function(e){var t=this();return f.a.k(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.K(),this.t()[n]=t,this.J())}},f.a.p("pop push reverse shift sort splice unshift".split(" "),function(e){f.U.fn[e]=function(){var t=this.t();return this.K(),t=t[e].apply(t,arguments),this.J(),t}}),f.a.p(["slice"],function(e){f.U.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),f.b("observableArray",f.U),f.j=function(n,a,r){function i(){f.a.p(y,function(e){e.B()}),y=[]}function o(){var e=s.throttleEvaluation;e&&e>=0?(clearTimeout(_),_=setTimeout(u,e)):u()}function u(){if(!p)if(d&&m())v();else{p=!0;try{var e=f.a.Z(y,function(e){return e.target});f.q.rb(function(n){var a;0<=(a=f.a.k(e,n))?e[a]=t:y.push(n.Da(o))});for(var n=h.call(a),r=e.length-1;r>=0;r--)e[r]&&y.splice(r,1)[0].B();d=!0,s.notifySubscribers(c,"beforeChange"),c=n,s.notifySubscribers(c)}finally{f.q.end(),p=!1}y.length||v()}}function s(){if(0<arguments.length){if("function"!=typeof b)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return b.apply(a,arguments),this}return d||u(),f.q.bb(s),c}function l(){return!d||0<y.length}var c,d=!1,p=!1,h=n;if(h&&"object"==typeof h?(r=h,h=r.read):(r=r||{},h||(h=r.read)),"function"!=typeof h)throw Error("Pass a function that returns the value of the ko.computed");var b=r.write,g=r.disposeWhenNodeIsRemoved||r.$||null,m=r.disposeWhen||r.Qa||e(!1),v=i,y=[],_=null;if(a||(a=r.owner),s.t=function(){return d||u(),c},s.Cb=function(){return y.length},s.Eb="function"==typeof r.write,s.B=function(){v()},s.ta=l,f.V.call(s),f.a.extend(s,f.j.fn),f.r(s,"peek",s.t),f.r(s,"dispose",s.B),f.r(s,"isActive",s.ta),f.r(s,"getDependenciesCount",s.Cb),!0!==r.deferEvaluation&&u(),g&&l()){v=function(){f.a.C.cb(g,v),i()},f.a.C.ia(g,v);var w=m,m=function(){return!f.a.aa(g)||w()}}return s},f.Gb=function(e){return f.qa(e,f.j)},u=f.m.Pb,f.j[u]=f.m,f.j.fn={},f.j.fn[u]=f.j,f.b("dependentObservable",f.j),f.b("computed",f.j),f.b("isComputed",f.Gb),function(){function e(r,i,o){if(o=o||new a,r=i(r),"object"!=typeof r||null===r||r===t||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var u=r instanceof Array?[]:{};return o.save(r,u),n(r,function(n){var a=i(r[n]);switch(typeof a){case"boolean":case"number":case"string":case"function":u[n]=a;break;case"object":case"undefined":var s=o.get(a);u[n]=s!==t?s:e(a,i,o)}}),u}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function a(){this.keys=[],this.Ha=[]}f.lb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;f.T(e)&&10>t;t++)e=e();return e})},f.toJSON=function(e,t,n){return e=f.lb(e),f.a.Ca(e,t,n)},a.prototype={save:function(e,t){var n=f.a.k(this.keys,e);n>=0?this.Ha[n]=t:(this.keys.push(e),this.Ha.push(t))},get:function(e){return e=f.a.k(this.keys,e),e>=0?this.Ha[e]:t}}}(),f.b("toJS",f.lb),f.b("toJSON",f.toJSON),function(){f.h={n:function(e){switch(f.a.u(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?f.a.f.get(e,f.d.options.wa):7>=f.a.ca?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?f.h.n(e.options[e.selectedIndex]):t;default:return e.value}},W:function(e,n){switch(f.a.u(e)){case"option":switch(typeof n){case"string":f.a.f.set(e,f.d.options.wa,t),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=n;break;default:f.a.f.set(e,f.d.options.wa,n),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof n?n:""}break;case"select":""===n&&(n=t),(null===n||n===t)&&(e.selectedIndex=-1);for(var a=e.options.length-1;a>=0;a--)if(f.h.n(e.options[a])==n){e.selectedIndex=a;break}1<e.size||-1!==e.selectedIndex||(e.selectedIndex=0);break;default:(null===n||n===t)&&(n=""),e.value=n}}}}(),f.b("selectExtensions",f.h),f.b("selectExtensions.readValue",f.h.n),f.b("selectExtensions.writeValue",f.h.W),f.g=function(){function e(e,n){for(var a=null;e!=a;)a=e,e=e.replace(t,function(e,t){return n[t]});return e}var t=/\@ko_token_(\d+)\@/g,n=["true","false","null","undefined"],a=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;return{S:[],da:function(t){var n=f.a.F(t);if(3>n.length)return[];"{"===n.charAt(0)&&(n=n.substring(1,n.length-1)),t=[];for(var a,r=null,i=0;i<n.length;i++){var o=n.charAt(i);if(null===r)switch(o){case'"':case"'":case"/":r=i,a=o}else if(o==a&&"\\"!==n.charAt(i-1)){o=n.substring(r,i+1),t.push(o);var u="@ko_token_"+(t.length-1)+"@",n=n.substring(0,r)+u+n.substring(i+1),i=i-(o.length-u.length),r=null}}a=r=null;for(var s=0,l=null,i=0;i<n.length;i++){if(o=n.charAt(i),null===r)switch(o){case"{":r=i,l=o,a="}";break;case"(":r=i,l=o,a=")";break;case"[":r=i,l=o,a="]"}o===l?s++:o===a&&(s--,0===s&&(o=n.substring(r,i+1),t.push(o),u="@ko_token_"+(t.length-1)+"@",n=n.substring(0,r)+u+n.substring(i+1),i-=o.length-u.length,r=null))}for(a=[],n=n.split(","),r=0,i=n.length;i>r;r++)s=n[r],l=s.indexOf(":"),l>0&&l<s.length-1?(o=s.substring(l+1),a.push({key:e(s.substring(0,l),t),value:e(o,t)})):a.push({unknown:e(s,t)});return a},ea:function(e){var t="string"==typeof e?f.g.da(e):e,r=[];e=[];for(var i,o=0;i=t[o];o++)if(0<r.length&&r.push(","),i.key){var u;e:{u=i.key;var s=f.a.F(u);switch(s.length&&s.charAt(0)){case"'":case'"':break e;default:u="'"+s+"'"}}i=i.value,r.push(u),r.push(":"),r.push(i),i=f.a.F(i),0<=f.a.k(n,f.a.F(i).toLowerCase())?i=!1:(s=i.match(a),i=null===s?!1:s[1]?"Object("+s[1]+")"+s[2]:i),i&&(0<e.length&&e.push(", "),e.push(u+" : function(__ko_value) { "+i+" = __ko_value; }"))}else i.unknown&&r.push(i.unknown);return t=r.join(""),0<e.length&&(t=t+", '_ko_property_writers' : { "+e.join("")+" } "),t},Jb:function(e,t){for(var n=0;n<e.length;n++)if(f.a.F(e[n].key)==t)return!0;return!1},ha:function(e,t,n,a,r){e&&f.T(e)?!f.Xa(e)||r&&e.t()===a||e(a):(e=t()._ko_property_writers)&&e[n]&&e[n](a)}}}(),f.b("expressionRewriting",f.g),f.b("expressionRewriting.bindingRewriteValidators",f.g.S),f.b("expressionRewriting.parseObjectLiteral",f.g.da),f.b("expressionRewriting.preProcessBindings",f.g.ea),f.b("jsonExpressionRewriting",f.g),f.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",f.g.ea),function(){function e(e){return 8==e.nodeType&&(i?e.text:e.nodeValue).match(o)}function t(e){return 8==e.nodeType&&(i?e.text:e.nodeValue).match(u)}function n(n,a){for(var r=n,i=1,o=[];r=r.nextSibling;){if(t(r)&&(i--,0===i))return o;o.push(r),e(r)&&i++}if(!a)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function r(e,t){var a=n(e,t);return a?0<a.length?a[a.length-1].nextSibling:e.nextSibling:null}var i=a&&"<!--test-->"===a.createComment("test").text,o=i?/^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,u=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,s={ul:!0,ol:!0};f.e={L:{},childNodes:function(t){return e(t)?n(t):t.childNodes},ba:function(t){if(e(t)){t=f.e.childNodes(t);for(var n=0,a=t.length;a>n;n++)f.removeNode(t[n])}else f.a.oa(t)},P:function(t,n){if(e(t)){f.e.ba(t);for(var a=t.nextSibling,r=0,i=n.length;i>r;r++)a.parentNode.insertBefore(n[r],a)}else f.a.P(t,n)},ab:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},Va:function(t,n,a){a?e(t)?t.parentNode.insertBefore(n,a.nextSibling):a.nextSibling?t.insertBefore(n,a.nextSibling):t.appendChild(n):f.e.ab(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=r(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},ob:function(t){return(t=e(t))?t[1]:null},Za:function(n){if(s[f.a.u(n)]){var a=n.firstChild;if(a)do if(1===a.nodeType){var i;i=a.firstChild;var o=null;if(i)do if(o)o.push(i);else if(e(i)){var u=r(i,!0);u?i=u:o=[i]}else t(i)&&(o=[i]);while(i=i.nextSibling);if(i=o)for(o=a.nextSibling,u=0;u<i.length;u++)o?n.insertBefore(i[u],o):n.appendChild(i[u])}while(a=a.nextSibling)}}}}(),f.b("virtualElements",f.e),f.b("virtualElements.allowedBindings",f.e.L),f.b("virtualElements.emptyNode",f.e.ba),f.b("virtualElements.insertAfter",f.e.Va),f.b("virtualElements.prepend",f.e.ab),f.b("virtualElements.setDomNodeChildren",f.e.P),function(){f.M=function(){this.Na={}},f.a.extend(f.M.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind");case 8:return null!=f.e.ob(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e):null},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return f.e.ob(e);default:return null}},parseBindingsString:function(e,t,n){try{var a;if(!(a=this.Na[e])){var r,i=this.Na,o="with($context){with($data||{}){return{"+f.g.ea(e)+"}}}";r=new Function("$context","$element",o),a=i[e]=r}return a(t,n)}catch(u){throw u.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+u.message,u}}}),f.M.instance=new f.M}(),f.b("bindingProvider",f.M),function(){function e(e,t,n){for(var r=f.e.firstChild(t);t=r;)r=f.e.nextSibling(t),a(e,t,n)}function a(t,n,a){var i=!0,o=1===n.nodeType;o&&f.e.Za(n),(o&&a||f.M.instance.nodeHasBindings(n))&&(i=r(n,null,t,a).Sb),i&&e(t,n,!o)}function r(e,n,a,r){function o(e){return function(){return s[e]}}function u(){return s}var s,l,c=0,d=f.a.f.get(e,i);if(!n){if(d)throw Error("You cannot apply bindings multiple times to the same element.");f.a.f.set(e,i,!0)}return f.j(function(){var i=a&&a instanceof f.A?a:new f.A(f.a.c(a)),p=i.$data;!d&&r&&f.jb(e,i),(s=("function"==typeof n?n(i,e):n)||f.M.instance.getBindings(e,i))&&(0===c&&(c=1,f.a.w(s,function(n){var a=f.d[n];if(a&&8===e.nodeType&&!f.e.L[n])throw Error("The binding '"+n+"' cannot be used with virtual elements");if(a&&"function"==typeof a.init&&(a=a.init(e,o(n),u,p,i))&&a.controlsDescendantBindings){if(l!==t)throw Error("Multiple bindings ("+l+" and "+n+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");l=n}}),c=2),2===c&&f.a.w(s,function(t){var n=f.d[t];n&&"function"==typeof n.update&&n.update(e,o(t),u,p,i)}))},null,{$:e}),{Sb:l===t}}f.d={},f.A=function(e,t,n){t?(f.a.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=e,this.ko=f),this.$data=e,n&&(this[n]=e)},f.A.prototype.createChildContext=function(e,t){return new f.A(e,this,t)},f.A.prototype.extend=function(e){var t=f.a.extend(new f.A,this);return f.a.extend(t,e)};var i="__ko_boundElement";f.jb=function(e,t){return 2!=arguments.length?f.a.f.get(e,"__ko_bindingContext__"):(f.a.f.set(e,"__ko_bindingContext__",t),void 0)},f.Ka=function(e,t,n){return 1===e.nodeType&&f.e.Za(e),r(e,t,n,!0)},f.Ja=function(t,n){1!==n.nodeType&&8!==n.nodeType||e(t,n,!0)},f.Ia=function(e,t){if(t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,a(e,t,!0)},f.na=function(e){switch(e.nodeType){case 1:case 8:var n=f.jb(e);if(n)return n;if(e.parentNode)return f.na(e.parentNode)}return t},f.ub=function(e){return(e=f.na(e))?e.$data:t},f.b("bindingHandlers",f.d),f.b("applyBindings",f.Ia),f.b("applyBindingsToDescendants",f.Ja),f.b("applyBindingsToNode",f.Ka),f.b("contextFor",f.na),f.b("dataFor",f.ub)}();var p={"class":"className","for":"htmlFor"};f.d.attr={update:function(e,n){var a=f.a.c(n())||{};f.a.w(a,function(n,a){a=f.a.c(a);var r=!1===a||null===a||a===t;r&&e.removeAttribute(n),8>=f.a.ca&&n in p?(n=p[n],r?e.removeAttribute(n):e[n]=a):r||e.setAttribute(n,a.toString()),"name"===n&&f.a.gb(e,r?"":a.toString())})}},f.d.checked={init:function(t,n,a){f.a.o(t,"click",function(){var e;if("checkbox"==t.type)e=t.checked;else{if("radio"!=t.type||!t.checked)return;e=t.value}var r=n(),i=f.a.c(r);"checkbox"==t.type&&i instanceof Array?f.a.ja(r,t.value,t.checked):f.g.ha(r,a,"checked",e,!0)}),"radio"!=t.type||t.name||f.d.uniqueName.init(t,e(!0))},update:function(e,t){var n=f.a.c(t());"checkbox"==e.type?e.checked=n instanceof Array?0<=f.a.k(n,e.value):n:"radio"==e.type&&(e.checked=e.value==n)}},f.d.css={update:function(e,t){var n=f.a.c(t());"object"==typeof n?f.a.w(n,function(t,n){n=f.a.c(n),f.a.ga(e,t,n)}):(n=String(n||""),f.a.ga(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,f.a.ga(e,n,!0))}},f.d.enable={update:function(e,t){var n=f.a.c(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},f.d.disable={update:function(e,t){f.d.enable.update(e,function(){return!f.a.c(t())})}},f.d.event={init:function(e,t,n,a){var r=t()||{};f.a.w(r,function(r){"string"==typeof r&&f.a.o(e,r,function(e){var i,o=t()[r];if(o){var u=n();try{var s=f.a.N(arguments);s.unshift(a),i=o.apply(a,s)}finally{!0!==i&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===u[r+"Bubble"]&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},f.d.foreach={Ya:function(e){return function(){var t=e(),n=f.a.ya(t);return n&&"number"!=typeof n.length?(f.a.c(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:f.D.sa}):{foreach:t,templateEngine:f.D.sa}}},init:function(e,t){return f.d.template.init(e,f.d.foreach.Ya(t))},update:function(e,t,n,a,r){return f.d.template.update(e,f.d.foreach.Ya(t),n,a,r)}},f.g.S.foreach=!1,f.e.L.foreach=!0,f.d.hasfocus={init:function(e,t,n){function a(a){e.__ko_hasfocusUpdating=!0;var r=e.ownerDocument;if("activeElement"in r){var i;try{i=r.activeElement}catch(o){i=r.body}a=i===e}r=t(),f.g.ha(r,n,"hasfocus",a,!0),e.__ko_hasfocusLastValue=a,e.__ko_hasfocusUpdating=!1}var r=a.bind(null,!0),i=a.bind(null,!1);f.a.o(e,"focus",r),f.a.o(e,"focusin",r),f.a.o(e,"blur",i),f.a.o(e,"focusout",i)},update:function(e,t){var n=!!f.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),f.q.I(f.a.Ga,null,[e,n?"focusin":"focusout"]))}},f.d.hasFocus=f.d.hasfocus,f.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){f.a.fa(e,t())}};var h="__ko_withIfBindingData";s("if"),s("ifnot",!1,!0),s("with",!0,!1,function(e,t){return e.createChildContext(t)}),f.d.options={init:function(e){if("select"!==f.a.u(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,r){function i(e,t,n){var a=typeof t;return"function"==a?t(e):"string"==a?e[t]:n}function o(e,t){if(d){var n=0<=f.a.k(d,f.h.n(t[0]));f.a.hb(t[0],n)}}var u=0==e.length,s=!u&&e.multiple?e.scrollTop:null;n=f.a.c(n());var c,d,p=r(),h=p.optionsIncludeDestroyed,b={};if(e.multiple?d=f.a.Z(e.selectedOptions||f.a.Y(e.childNodes,function(e){return e.tagName&&"option"===f.a.u(e)&&e.selected}),function(e){return f.h.n(e)}):0<=e.selectedIndex&&(d=[f.h.n(e.options[e.selectedIndex])]),n){"undefined"==typeof n.length&&(n=[n]);var g=f.a.Y(n,function(e){return h||e===t||null===e||!f.a.c(e._destroy)});"optionsCaption"in p&&(c=f.a.c(p.optionsCaption),null!==c&&c!==t&&g.unshift(b))}else n=[];r=o,p.optionsAfterRender&&(r=function(e,n){o(0,n),f.q.I(p.optionsAfterRender,null,[n[0],e!==b?e:t])}),f.a.Aa(e,g,function(e,n,r){return r.length&&(d=r[0].selected&&[f.h.n(r[0])]),n=a.createElement("option"),e===b?(f.a.fa(n,c),f.h.W(n,t)):(r=i(e,p.optionsValue,e),f.h.W(n,f.a.c(r)),e=i(e,p.optionsText,r),f.a.ib(n,e)),[n]},null,r),d=null,u&&"value"in p&&l(e,f.a.ya(p.value),!0),f.a.zb(e),s&&20<Math.abs(s-e.scrollTop)&&(e.scrollTop=s)}},f.d.options.wa="__ko.optionValueDomData__",f.d.selectedOptions={init:function(e,t,n){f.a.o(e,"change",function(){var a=t(),r=[];f.a.p(e.getElementsByTagName("option"),function(e){e.selected&&r.push(f.h.n(e))}),f.g.ha(a,n,"selectedOptions",r)})},update:function(e,t){if("select"!=f.a.u(e))throw Error("values binding applies only to SELECT elements");var n=f.a.c(t());n&&"number"==typeof n.length&&f.a.p(e.getElementsByTagName("option"),function(e){var t=0<=f.a.k(n,f.h.n(e));f.a.hb(e,t)})}},f.d.style={update:function(e,t){var n=f.a.c(t()||{});f.a.w(n,function(t,n){n=f.a.c(n),e.style[t]=n||""})}},f.d.submit={init:function(e,t,n,a){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");f.a.o(e,"submit",function(n){var r,i=t();try{r=i.call(a,e)}finally{!0!==r&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},f.d.text={update:function(e,t){f.a.ib(e,t())}},f.e.L.text=!0,f.d.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++f.d.uniqueName.tb;f.a.gb(e,n)}}},f.d.uniqueName.tb=0,f.d.value={init:function(e,t,n){function a(){o=!1;var a=t(),r=f.h.n(e);f.g.ha(a,n,"value",r)}var r=["change"],i=n().valueUpdate,o=!1;
i&&("string"==typeof i&&(i=[i]),f.a.R(r,i),r=f.a.Ma(r)),!f.a.ca||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=f.a.k(r,"propertychange")||(f.a.o(e,"propertychange",function(){o=!0}),f.a.o(e,"blur",function(){o&&a()})),f.a.p(r,function(t){var n=a;f.a.Tb(t,"after")&&(n=function(){setTimeout(a,0)},t=t.substring(5)),f.a.o(e,t,n)})},update:function(e,t){var n="select"===f.a.u(e),a=f.a.c(t()),r=f.h.n(e);a!==r&&(r=function(){f.h.W(e,a)},r(),n&&setTimeout(r,0)),n&&0<e.length&&l(e,a,!1)}},f.d.visible={update:function(e,t){var n=f.a.c(t()),a="none"!=e.style.display;n&&!a?e.style.display="":!n&&a&&(e.style.display="none")}},function(e){f.d[e]={init:function(t,n,a,r){return f.d.event.init.call(this,t,function(){var t={};return t[e]=n(),t},a,r)}}}("click"),f.v=function(){},f.v.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},f.v.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},f.v.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||a;var n=t.getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new f.l.i(n)}if(1==e.nodeType||8==e.nodeType)return new f.l.Q(e);throw Error("Unknown template type: "+e)},f.v.prototype.renderTemplate=function(e,t,n,a){return e=this.makeTemplateSource(e,a),this.renderTemplateSource(e,t,n)},f.v.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(e,t).data("isRewritten")},f.v.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},f.b("templateEngine",f.v),f.Ea=function(){function e(e,t,n,a){e=f.g.da(e);for(var r=f.g.S,i=0;i<e.length;i++){var o=e[i].key;if(r.hasOwnProperty(o)){var u=r[o];if("function"==typeof u){if(o=u(e[i].value))throw Error(o)}else if(!u)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+f.g.ea(e)+" } })()},'"+n.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ab:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return f.Ea.Lb(e,t)},n)},Lb:function(a,r){return a.replace(t,function(t,n,a,i,o){return e(o,n,a,r)}).replace(n,function(t,n){return e(n,"<!-- ko -->","#comment",r)})},qb:function(e,t){return f.s.va(function(n,a){var r=n.nextSibling;r&&r.nodeName.toLowerCase()===t&&f.Ka(r,e,a)})}}}(),f.b("__tr_ambtns",f.Ea.qb),function(){f.l={},f.l.i=function(e){this.i=e},f.l.i.prototype.text=function(){var e=f.a.u(this.i),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.i[e];var t=arguments[0];"innerHTML"===e?f.a.fa(this.i,t):this.i[e]=t},f.l.i.prototype.data=function(e){return 1===arguments.length?f.a.f.get(this.i,"templateSourceData_"+e):(f.a.f.set(this.i,"templateSourceData_"+e,arguments[1]),void 0)},f.l.Q=function(e){this.i=e},f.l.Q.prototype=new f.l.i,f.l.Q.prototype.text=function(){if(0==arguments.length){var e=f.a.f.get(this.i,"__ko_anon_template__")||{};return e.Fa===t&&e.ma&&(e.Fa=e.ma.innerHTML),e.Fa}f.a.f.set(this.i,"__ko_anon_template__",{Fa:arguments[0]})},f.l.i.prototype.nodes=function(){return 0==arguments.length?(f.a.f.get(this.i,"__ko_anon_template__")||{}).ma:(f.a.f.set(this.i,"__ko_anon_template__",{ma:arguments[0]}),void 0)},f.b("templateSources",f.l),f.b("templateSources.domElement",f.l.i),f.b("templateSources.anonymousTemplate",f.l.Q)}(),function(){function e(e,t,n){var a;for(t=f.e.nextSibling(t);e&&(a=e)!==t;)e=f.e.nextSibling(a),1!==a.nodeType&&8!==a.nodeType||n(a)}function n(t,n){if(t.length){var a=t[0],r=t[t.length-1];e(a,r,function(e){f.Ia(n,e)}),e(a,r,function(e){f.s.nb(e,[n])})}}function a(e){return e.nodeType?e:0<e.length?e[0]:null}function r(e,t,r,o,u){u=u||{};var s=e&&a(e),s=s&&s.ownerDocument,l=u.templateEngine||i;if(f.Ea.Ab(r,l,s),r=l.renderTemplate(r,o,u,s),"number"!=typeof r.length||0<r.length&&"number"!=typeof r[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(s=!1,t){case"replaceChildren":f.e.P(e,r),s=!0;break;case"replaceNode":f.a.eb(e,r),s=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return s&&(n(r,o),u.afterRender&&f.q.I(u.afterRender,null,[r,o.$data])),r}var i;f.Ba=function(e){if(e!=t&&!(e instanceof f.v))throw Error("templateEngine must inherit from ko.templateEngine");i=e},f.za=function(e,n,o,u,s){if(o=o||{},(o.templateEngine||i)==t)throw Error("Set a template engine before calling renderTemplate");if(s=s||"replaceChildren",u){var l=a(u);return f.j(function(){var t=n&&n instanceof f.A?n:new f.A(f.a.c(n)),i="function"==typeof e?e(t.$data,t):e,t=r(u,s,i,t,o);"replaceNode"==s&&(u=t,l=a(u))},null,{Qa:function(){return!l||!f.a.aa(l)},$:l&&"replaceNode"==s?l.parentNode:l})}return f.s.va(function(t){f.za(e,n,o,t,"replaceNode")})},f.Rb=function(e,a,i,o,u){function s(e,t){n(t,c),i.afterRender&&i.afterRender(t,e)}function l(t,n){c=u.createChildContext(f.a.c(t),i.as),c.$index=n;var a="function"==typeof e?e(t,c):e;return r(null,"ignoreTargetNode",a,c,i)}var c;return f.j(function(){var e=f.a.c(a)||[];"undefined"==typeof e.length&&(e=[e]),e=f.a.Y(e,function(e){return i.includeDestroyed||e===t||null===e||!f.a.c(e._destroy)}),f.q.I(f.a.Aa,null,[o,e,l,i,s])},null,{$:o})},f.d.template={init:function(e,t){var n=f.a.c(t());return"string"==typeof n||n.name||1!=e.nodeType&&8!=e.nodeType||(n=1==e.nodeType?e.childNodes:f.e.childNodes(e),n=f.a.Mb(n),new f.l.Q(e).nodes(n)),{controlsDescendantBindings:!0}},update:function(e,n,a,r,i){n=f.a.c(n()),a={},r=!0;var o,u=null;"string"!=typeof n&&(a=n,n=f.a.c(a.name),"if"in a&&(r=f.a.c(a["if"])),r&&"ifnot"in a&&(r=!f.a.c(a.ifnot)),o=f.a.c(a.data)),"foreach"in a?u=f.Rb(n||e,r&&a.foreach||[],a,e,i):r?(i="data"in a?i.createChildContext(o,a.as):i,u=f.za(n||e,i,a,e)):f.e.ba(e),i=u,(o=f.a.f.get(e,"__ko__templateComputedDomDataKey__"))&&"function"==typeof o.B&&o.B(),f.a.f.set(e,"__ko__templateComputedDomDataKey__",i&&i.ta()?i:t)}},f.g.S.template=function(e){return e=f.g.da(e),1==e.length&&e[0].unknown||f.g.Jb(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},f.e.L.template=!0}(),f.b("setTemplateEngine",f.Ba),f.b("renderTemplate",f.za),f.a.Pa=function(){function e(e,t,n,a,r){var i,o,u,s,l,f=Math.min,c=Math.max,d=[],p=e.length,h=t.length,b=h-p||1,g=p+h+1;for(i=0;p>=i;i++)for(s=u,d.push(u=[]),l=f(h,i+b),o=c(0,i-1);l>=o;o++)u[o]=o?i?e[i-1]===t[o-1]?s[o-1]:f(s[o]||g,u[o-1]||g)+1:o+1:i+1;for(f=[],c=[],b=[],i=p,o=h;i||o;)h=d[i][o]-1,o&&h===d[i][o-1]?c.push(f[f.length]={status:n,value:t[--o],index:o}):i&&h===d[i-1][o]?b.push(f[f.length]={status:a,value:e[--i],index:i}):(f.push({status:"retained",value:t[--o]}),--i);if(c.length&&b.length){e=10*p;var m;for(t=n=0;(r||e>t)&&(m=c[n]);n++){for(a=0;d=b[a];a++)if(m.value===d.value){m.moved=d.index,d.moved=m.index,b.splice(a,1),t=a=0;break}t+=a}}return f.reverse()}return function(t,n,a){return t=t||[],n=n||[],t.length<=n.length?e(t,n,"added","deleted",a):e(n,t,"deleted","added",a)}}(),f.b("utils.compareArrays",f.a.Pa),function(){function e(e){for(;e.length&&!f.a.aa(e[0]);)e.splice(0,1);if(1<e.length){for(var t=e[0],n=e[e.length-1],a=[t];t!==n;){if(t=t.nextSibling,!t)return;a.push(t)}Array.prototype.splice.apply(e,[0,e.length].concat(a))}return e}function n(n,a,r,i,o){var u=[];return n=f.j(function(){var t=a(r,o,e(u))||[];0<u.length&&(f.a.eb(u,t),i&&f.q.I(i,null,[r,t,o])),u.splice(0,u.length),f.a.R(u,t)},null,{$:n,Qa:function(){return!f.a.pb(u)}}),{O:u,j:n.ta()?n:t}}f.a.Aa=function(a,r,i,o,u){function s(t,n){_=d[n],m!==n&&(x[t]=_),_.ra(m++),e(_.O),b.push(_),y.push(_)}function l(e,t){if(e)for(var n=0,a=t.length;a>n;n++)t[n]&&f.a.p(t[n].O,function(a){e(a,n,t[n].X)})}r=r||[],o=o||{};var c=f.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===t,d=f.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],p=f.a.Z(d,function(e){return e.X}),h=f.a.Pa(p,r,o.dontLimitMoves),b=[],g=0,m=0,v=[],y=[];r=[];for(var _,w,k,x=[],p=[],E=0;w=h[E];E++)switch(k=w.moved,w.status){case"deleted":k===t&&(_=d[g],_.j&&_.j.B(),v.push.apply(v,e(_.O)),o.beforeRemove&&(r[E]=_,y.push(_))),g++;break;case"retained":s(E,g++);break;case"added":k!==t?s(E,k):(_={X:w.value,ra:f.m(m++)},b.push(_),y.push(_),c||(p[E]=_))}l(o.beforeMove,x),f.a.p(v,o.beforeRemove?f.H:f.removeNode);for(var T,E=0,c=f.e.firstChild(a);_=y[E];E++){for(_.O||f.a.extend(_,n(a,i,_.X,u,_.ra)),g=0;h=_.O[g];c=h.nextSibling,T=h,g++)h!==c&&f.e.Va(a,h,T);!_.Fb&&u&&(u(_.X,_.O,_.ra),_.Fb=!0)}l(o.beforeRemove,r),l(o.afterMove,x),l(o.afterAdd,p),f.a.f.set(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult",b)}}(),f.b("utils.setDomNodeChildrenFromArrayMapping",f.a.Aa),f.D=function(){this.allowTemplateRewriting=!1},f.D.prototype=new f.v,f.D.prototype.renderTemplateSource=function(e){var t=(9>f.a.ca?0:e.nodes)?e.nodes():null;return t?f.a.N(t.cloneNode(!0).childNodes):(e=e.text(),f.a.xa(e))},f.D.sa=new f.D,f.Ba(f.D.sa),f.b("nativeTemplateEngine",f.D),function(){f.ua=function(){var e=this.Ib=function(){if("undefined"==typeof i||!i.tmpl)return 0;try{if(0<=i.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,r){if(r=r||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=t.data("precompiled");return o||(o=t.text()||"",o=i.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),t.data("precompiled",o)),t=[n.$data],n=i.extend({koBindingContext:n},r.templateOptions),n=i.tmpl(o,t,n),n.appendTo(a.createElement("div")),i.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){a.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},e>0&&(i.tmpl.tag.ko_code={open:"__.push($1 || '');"},i.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},f.ua.prototype=new f.v;var e=new f.ua;0<e.Ib&&f.Ba(e),f.b("jqueryTmplTemplateEngine",f.ua)}()})}()}();

!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],e):e(ko,ko.mapping={})}(function(e,r){function t(e,n){var a,i;for(i in n)if(n.hasOwnProperty(i)&&n[i])if(a=r.getType(e[i]),i&&e[i]&&"array"!==a&&"string"!==a)t(e[i],n[i]);else if("array"===r.getType(e[i])&&"array"===r.getType(n[i])){a=e;for(var o=i,u=e[i],s=n[i],p={},l=u.length-1;l>=0;--l)p[u[l]]=u[l];for(l=s.length-1;l>=0;--l)p[s[l]]=s[l];u=[],s=void 0;for(s in p)u.push(p[s]);a[o]=u}else e[i]=n[i]}function n(e,r){var n={};return t(n,e),t(n,r),n}function a(e,r){for(var t=n({},e),a=h.length-1;a>=0;a--){var o=h[a];t[o]&&(t[""]instanceof Object||(t[""]={}),t[""][o]=t[o],delete t[o])}return r&&(t.ignore=i(r.ignore,t.ignore),t.include=i(r.include,t.include),t.copy=i(r.copy,t.copy),t.observe=i(r.observe,t.observe)),t.ignore=i(t.ignore,T.ignore),t.include=i(t.include,T.include),t.copy=i(t.copy,T.copy),t.observe=i(t.observe,T.observe),t.mappedProperties=t.mappedProperties||{},t.copiedProperties=t.copiedProperties||{},t}function i(t,n){return"array"!==r.getType(t)&&(t="undefined"===r.getType(t)?[]:[t]),"array"!==r.getType(n)&&(n="undefined"===r.getType(n)?[]:[n]),e.utils.arrayGetDistinctValues(t.concat(n))}function o(t,a,i,s,d,v,m){var h="array"===r.getType(e.utils.unwrapObservable(a));if(v=v||"",r.isMapped(t)){var k=e.utils.unwrapObservable(t)[g];i=n(k,i)}var T=m||d,x=function(){return i[s]&&i[s].create instanceof Function},j=function(r){var t=b,n=e.dependentObservable;return e.dependentObservable=function(r,n,a){a=a||{},r&&"object"==typeof r&&(a=r);var i=a.deferEvaluation,o=!1;if(a.deferEvaluation=!0,r=new O(r,n,a),!i){var u=r,i=e.dependentObservable;e.dependentObservable=O,r=e.isWriteableObservable(u),e.dependentObservable=i,i=O({read:function(){return o||(e.utils.arrayRemoveItem(t,u),o=!0),u.apply(u,arguments)},write:r&&function(e){return u(e)},deferEvaluation:!0}),i.__DO=u,r=i,t.push(r)}return r},e.dependentObservable.fn=O.fn,e.computed=e.dependentObservable,r=e.utils.unwrapObservable(d)instanceof Array?i[s].create({data:r||a,parent:T,skip:w}):i[s].create({data:r||a,parent:T}),e.dependentObservable=n,e.computed=e.dependentObservable,r},I=function(){return i[s]&&i[s].update instanceof Function},J=function(r,t){var n={data:t||a,parent:T,target:e.utils.unwrapObservable(r)};return e.isWriteableObservable(r)&&(n.observable=r),i[s].update(n)};if(m=y.get(a))return m;if(s=s||"",h){var h=[],E=!1,P=function(e){return e};i[s]&&i[s].key&&(P=i[s].key,E=!0),e.isObservable(t)||(t=e.observableArray([]),t.mappedRemove=function(e){var r="function"==typeof e?e:function(r){return r===P(e)};return t.remove(function(e){return r(P(e))})},t.mappedRemoveAll=function(r){var n=l(r,P);return t.remove(function(r){return-1!=e.utils.arrayIndexOf(n,P(r))})},t.mappedDestroy=function(e){var r="function"==typeof e?e:function(r){return r===P(e)};return t.destroy(function(e){return r(P(e))})},t.mappedDestroyAll=function(r){var n=l(r,P);return t.destroy(function(r){return-1!=e.utils.arrayIndexOf(n,P(r))})},t.mappedIndexOf=function(r){var n=l(t(),P);return r=P(r),e.utils.arrayIndexOf(n,r)},t.mappedGet=function(e){return t()[t.mappedIndexOf(e)]},t.mappedCreate=function(r){if(-1!==t.mappedIndexOf(r))throw Error("There already is an object with the key that you specified.");var n=x()?j(r):r;return I()&&(r=J(n,r),e.isWriteableObservable(n)?n(r):n=r),t.push(n),n}),m=l(e.utils.unwrapObservable(t),P).sort(),k=l(a,P),E&&k.sort(),E=e.utils.compareArrays(m,k),m={};var S,N=e.utils.unwrapObservable(a),_={},W=!0,k=0;for(S=N.length;S>k;k++){var D=P(N[k]);if(void 0===D||D instanceof Object){W=!1;break}_[D]=N[k]}var N=[],F=0,k=0;for(S=E.length;S>k;k++){var A,D=E[k],M=v+"["+k+"]";switch(D.status){case"added":var C=W?_[D.value]:p(e.utils.unwrapObservable(a),D.value,P);A=o(void 0,C,i,s,t,M,d),x()||(A=e.utils.unwrapObservable(A)),M=u(e.utils.unwrapObservable(a),C,m),A===w?F++:N[M-F]=A,m[M]=!0;break;case"retained":C=W?_[D.value]:p(e.utils.unwrapObservable(a),D.value,P),A=p(t,D.value,P),o(A,C,i,s,t,M,d),M=u(e.utils.unwrapObservable(a),C,m),N[M]=A,m[M]=!0;break;case"deleted":A=p(t,D.value,P)}h.push({event:D.status,item:A})}t(N),i[s]&&i[s].arrayChanged&&e.utils.arrayForEach(h,function(e){i[s].arrayChanged(e.event,e.item)})}else if(c(a)){if(t=e.utils.unwrapObservable(t),!t){if(x())return E=j(),I()&&(E=J(E)),E;if(I())return J(E);t={}}if(I()&&(t=J(t)),y.save(a,t),I())return t;f(a,function(r){var n=v.length?v+"."+r:r;if(-1==e.utils.arrayIndexOf(i.ignore,n))if(-1!=e.utils.arrayIndexOf(i.copy,n))t[r]=a[r];else if("object"!=typeof a[r]&&"array"!=typeof a[r]&&0<i.observe.length&&-1==e.utils.arrayIndexOf(i.observe,n))t[r]=a[r],i.copiedProperties[n]=!0;else{var u=y.get(a[r]),s=o(t[r],a[r],i,r,t,n,t),u=u||s;0<i.observe.length&&-1==e.utils.arrayIndexOf(i.observe,n)?(t[r]=u(),i.copiedProperties[n]=!0):(e.isWriteableObservable(t[r])?(u=e.utils.unwrapObservable(u),t[r]()!==u&&t[r](u)):(u=void 0===t[r]?u:e.utils.unwrapObservable(u),t[r]=u),i.mappedProperties[n]=!0)}})}else switch(r.getType(a)){case"function":I()?e.isWriteableObservable(a)?(a(J(a)),t=a):t=J(a):t=a;break;default:if(e.isWriteableObservable(t))return A=I()?J(t):e.utils.unwrapObservable(a),t(A),A;x()||I(),t=x()?j():e.observable(e.utils.unwrapObservable(a)),I()&&t(J(t))}return t}function u(e,r,t){for(var n=0,a=e.length;a>n;n++)if(!0!==t[n]&&e[n]===r)return n;return null}function s(t,n){var a;return n&&(a=n(t)),"undefined"===r.getType(a)&&(a=t),e.utils.unwrapObservable(a)}function p(r,t,n){r=e.utils.unwrapObservable(r);for(var a=0,i=r.length;i>a;a++){var o=r[a];if(s(o,n)===t)return o}throw Error("When calling ko.update*, the key '"+t+"' was not found!")}function l(r,t){return e.utils.arrayMap(e.utils.unwrapObservable(r),function(e){return t?s(e,t):e})}function f(e,t){if("array"===r.getType(e))for(var n=0;n<e.length;n++)t(n);else for(n in e)t(n)}function c(e){var t=r.getType(e);return("object"===t||"array"===t)&&null!==e}function d(){var r=[],t=[];this.save=function(n,a){var i=e.utils.arrayIndexOf(r,n);i>=0?t[i]=a:(r.push(n),t.push(a))},this.get=function(n){return n=e.utils.arrayIndexOf(r,n),n>=0?t[n]:void 0}}function v(){var e={},r=function(r){var t;try{t=r}catch(n){t="$$$"}return r=e[t],void 0===r&&(r=new d,e[t]=r),r};this.save=function(e,t){r(e).save(e,t)},this.get=function(e){return r(e).get(e)}}var b,y,g="__ko_mapping__",O=e.dependentObservable,m=0,h=["create","update","key","arrayChanged"],w={},k={include:["_destroy"],ignore:[],copy:[],observe:[]},T=k;r.isMapped=function(r){return(r=e.utils.unwrapObservable(r))&&r[g]},r.fromJS=function(e){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{m++||(b=[],y=new v);var r,t;2==arguments.length&&(arguments[1][g]?t=arguments[1]:r=arguments[1]),3==arguments.length&&(r=arguments[1],t=arguments[2]),t&&(r=n(r,t[g])),r=a(r);var i=o(t,e,r);if(t&&(i=t),!--m)for(;b.length;){var u=b.pop();u&&(u(),u.__DO.throttleEvaluation=u.throttleEvaluation)}return i[g]=n(i[g],r),i}catch(s){throw m=0,s}},r.fromJSON=function(t){var n=e.utils.parseJson(t);return arguments[0]=n,r.fromJS.apply(this,arguments)},r.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},r.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},r.toJS=function(t,n){if(T||r.resetDefaultOptions(),0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==r.getType(T.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==r.getType(T.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==r.getType(T.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");return n=a(n,t[g]),r.visitModel(t,function(r){return e.utils.unwrapObservable(r)},n)},r.toJSON=function(t,n){var a=r.toJS(t,n);return e.utils.stringifyJson(a)},r.defaultOptions=function(){return 0<arguments.length?(T=arguments[0],void 0):T},r.resetDefaultOptions=function(){T={include:k.include.slice(0),ignore:k.ignore.slice(0),copy:k.copy.slice(0)}},r.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},r.visitModel=function(t,n,i){i=i||{},i.visitedObjects=i.visitedObjects||new v;var o,u=e.utils.unwrapObservable(t);if(!c(u))return n(t,i.parentName);i=a(i,u[g]),n(t,i.parentName),o="array"===r.getType(u)?[]:{},i.visitedObjects.save(t,o);var s=i.parentName;return f(u,function(t){if(!i.ignore||-1==e.utils.arrayIndexOf(i.ignore,t)){var a=u[t],p=i,l=s||"";if("array"===r.getType(u)?s&&(l+="["+t+"]"):(s&&(l+="."),l+=t),p.parentName=l,-1!==e.utils.arrayIndexOf(i.copy,t)||-1!==e.utils.arrayIndexOf(i.include,t)||!u[g]||!u[g].mappedProperties||u[g].mappedProperties[t]||!u[g].copiedProperties||u[g].copiedProperties[t]||"array"===r.getType(u))switch(r.getType(e.utils.unwrapObservable(a))){case"object":case"array":case"undefined":p=i.visitedObjects.get(a),o[t]="undefined"!==r.getType(p)?p:r.visitModel(a,n,i);break;default:o[t]=n(a,i.parentName)}}}),o}});

!function(e,t){var n=function(t,n){"use strict";var a=function(e,t){return function(){var a=arguments;return n.computed(function(){return e.apply(t,a)})}},i={};i.page=null,i.now=function(){return Date.now?Date.now():(new Date).valueOf()},i.extendWithPage=function(e){var t=new i.Page;e.$__page__=t,i.page=t,i.activePage$=a(i.getActivePage,i)()};var r=function(e,t,n){n=n||{},n.page=e,i[t].fire(n),e.val(t)&&e.val(t)(n)};t.each(["onBindingError","onSourceError","onNoMatch","onMatch","beforeRemove","afterRemove","beforeHide","afterHide","beforeShow","afterShow"],function(e,n){i[n]=t.Callbacks()}),i.showChild=function(e){var t=e&&1===e.length&&""===e[0]?[]:e;i.page.showPage(t)},i.getParentPage=function(e){for(;e;){if(e.$page&&"none"!==e.$page.val("urlToggle"))return e.$page;if(e.$data&&e.$data.$__page__)return e.$data.$__page__;e=e.$parentContext}return null};var o=null,l=null,s=function(e){l&&l.reject({cancel:!0}),o=null,e.substring(0,i.Href.hash.length)===i.Href.hash&&(e=e.slice(i.Href.hash.length));var t=u(e);i.showChild(t)};i.goTo=s,i.navigate=function(e){i.useHTML5history?i.Href5.history.pushState(null,null,e):location.hash=e};var u=function(e){return t.map(e.replace(/\+/g," ").split("/"),decodeURIComponent)},h={};h.value=n.utils.unwrapObservable,h.arrayValue=function(e){return t.map(e,function(e){return h.value(e)})};var c=function(e){for(var t,n={},a=/([^&=]+)=?([^&]*)/g;t=a.exec(e);)n[t[1]]=t[2];return n},d=function(e){if(!e)return{name:null,params:{}};var t=e.split("?"),n=t[0],a=t[1],i={};return a&&(i=c(a)),{name:n,params:i}};i.ChildManager=function(e,a){this.currentChildO=n.observable(null);var o=this;this.page=a,this.timeStamp=i.now(),this.hideChild=function(){var e=o.currentChildO();e&&(e.hidePage(function(){}),o.currentChildO(null))},this.showChild=function(n){var a=0===n.length;this.timeStamp=i.now();var l=this.timeStamp,s=o.currentChildO(),u=null,c=!1,f=d(n[0]),g=f.name,v=null;t.each(e(),function(e,t){if(!c){var n=t.getId();(n===g||(""===g||null==g)&&t.isStartPage())&&(c=!0,u=t),"?"===n&&(v=t)}});for(var p=!1,m=o,b=function(e,t){if(!c){var n=t.getId(),a=t.getValue().modal;a&&((n===g||(""===g||null==g)&&t.isStartPage())&&(c=!0,u=t,p=!0),"?"!==n||v||(v=t,p=!0))}};!u&&m.page.parentPage&&!m.page.getValue().modal;){var P=m.page.parentPage.children;t.each(P(),b),u||(m=m.page.parentPage.childManager)}u||!v||a||(u=v),o.currentChildO(u),u&&(p?u.currentParentPage(o.page):u.currentParentPage(null));var x=function(){r(o.page,"onNoMatch",{route:n})},w=function(){r(o.page,"onMatch",{route:n});var e=h.value(u.getValue().guard);e?e(u,n,function(){o.timeStamp===l&&u.showPage(n.slice(1),f,n[0])},s):u.showPage(n.slice(1),f,n[0])};s&&s===u?w():s?s.hidePage(function(){u?w():x()}):u?w():x()}},i.Page=function(e,t,a,r,o){this.element=e,this.valueAccessor=t,this.allBindingsAccessor=a,this.viewModel=r,this.bindingContext=o,this.children=n.observableArray([]),this.childManager=new i.ChildManager(this.children,this),this.parentPage=null,this.currentId=null,this.getCurrentId=n.observable(),this.ctx=null,this.currentParentPage=n.observable(null),this.isVisible=n.observable(!1),this.originalRoute=n.observable(null),this.route=null};var f=i.Page.prototype;f.val=function(e){return h.value(this.getValue()[e])},f.currentChildPage=function(){return this.childManager.currentChildO},f.find=function(e){var n=h.value(e),a=this;if("/"===n.substring(0,1))a=i.page,n=n.slice(1);else for(;"../"===n.substring(0,3);)a=a.currentParentPage&&a.currentParentPage()?a.currentParentPage():a.parentPage,n=n.slice(3);var r=u(n);return t.each(r,function(e,t){a=a.child(t)()}),a},f.find$=function(e){return a(this.find,this)(e)};var g=function(e){return i.useHTML5history?t("base").attr("href")+e:i.Href.hash+e};f.path=function(e){var n=this,a=h.value(e);if(a&&"object"==typeof a&&a.path&&a.params&&!(a instanceof i.Page)){var r=a.path,o=a.params;return n.path(r)+"?"+t.param(o)}var l;if(null==a||""===a)l=n;else{if(!(a instanceof i.Page)){if("/"===a.substring(0,1)){var s=i.page.getFullRoute()().join("/")+a.substring(1);return g(s)}for(var u=0;"../"===a.substring(0,3);)u++,a=a.slice(3);var c=n.getFullRoute()(),d=c.slice(0,c.length-u).join("/"),f=(""===d?"":d+"/")+a;return g(f)}l=a}return g(l.getFullRoute()().join("/"))},f.path$=function(e){return a(this.path,this)(e)},f.async=function(e,t,n,a){var r=this;return function(){l&&l.reject({cancel:!0});var s=e();l=s,a&&a(s.state());var u=Math.random();o=u,s.done(function(){a&&a(s.state()),u===o&&i.navigate(r.path(t))}),s.fail(function(e){a&&a(s.state());var t=e&&e.cancel;u===o&&!t&&n&&i.navigate(r.path(n))})}},f.showPage=function(e,t,n){var a=this,i=a.currentId,r=a.pageRoute?a.pageRoute.params:null,o=a.isVisible();a.currentId=t?t.name||"":"",a.getCurrentId(a.currentId),a.isVisible(!0),n&&a.originalRoute(n),a.route=e,a.pageRoute=t,o?("?"===a.getId()&&i!==a.currentId&&a.show(),t&&r!==t.params&&a.setParams()):(a.setParams(),a.show()),a.childManager.showChild(e)},f.setParams=function(){if(this.pageRoute&&this.pageRoute.params){var e=this.pageRoute.params,a=this.ctx,i=this.val("params")||{};t.isArray(i)?t.each(i,function(t,i){var r=e[i];a[i]?a[i](r):a[i]=n.observable(r)}):t.each(i,function(t,i){var r,o=e[t];r=null==o?h.value(i):o,a[t]?a[t](r):a[t]=n.observable(r)})}if(this.pageRoute){var r=this.getValue().nameParam;r&&("string"==typeof r?this.ctx[r]?this.ctx[r](this.currentId):this.ctx[r]=n.observable(this.currentId):r(this.currentId))}},f.hidePage=function(e){var t=this;"show"!==t.val("urlToggle")?(t.hideElementWrapper(e),t.childManager.hideChild()):e&&e()};var v=function(e){try{n.applyBindingsToDescendants(e.childBindingContext,e.element)}catch(t){r(e,"onBindingError",{error:t})}};f.init=function(){var e=this,a=e.val("urlToggle"),i=e.val("id");"?"!==i&&e.getCurrentId(i);var o=n.utils.domData.get(e.element,"__ko_pagerjsBindingData");if(o)return{controlsDescendantBindings:!0};n.utils.domData.set(e.element,"__ko_pagerjsBindingData",e),n.utils.domNodeDisposal.addDisposeCallback(e.element,function(){r(e,"beforeRemove"),e.parentPage&&e.parentPage.children.remove(e),r(e,"afterRemove")});var l=e.getValue();if("none"!==a&&(e.parentPage=e.getParentPage(),e.parentPage.children.push(this),e.hideElement()),e.val("source")&&e.loadSource(e.val("source")),e.ctx=null,l.withOnShow)e.ctx={},e.childBindingContext=e.bindingContext.createChildContext(e.ctx),n.utils.extend(e.childBindingContext,{$page:this});else{var s=l["with"]||e.bindingContext.$observableData||e.viewModel;if(e.ctx=h.value(s),e.augmentContext(),n.isObservable(s)){var u=n.observable(e.ctx);e.childBindingContext=e.bindingContext.createChildContext(u),n.utils.extend(e.childBindingContext,{$page:this,$observableData:s}),v(e),s.subscribe(function(){u(h.value(s))})}else e.childBindingContext=e.bindingContext.createChildContext(e.ctx),n.utils.extend(e.childBindingContext,{$page:this,$observableData:void 0}),v(e)}if("none"!==a){var c=e.parentPage;c.route&&(c.route[0]===e.getId()||c.route.length&&"?"===e.getId())&&setTimeout(function(){c.showPage(c.route)},0)}else{var d=function(){t(e.element).is(":visible")&&e.showPage([])};setTimeout(d,0),e.getParentPage().isVisible.subscribe(function(e){e&&setTimeout(d,0)})}var f=e.getValue().bind;return n.isObservable(f)&&f(e),{controlsDescendantBindings:!0}},f.augmentContext=function(){var e=this,a=e.val("params");a&&(t.isArray(a)?t.each(a,function(t,a){e.ctx[a]||(e.ctx[a]=n.observable())}):t.each(a,function(t,i){e.ctx[t]||(n.isObservable(i)?e.ctx[t]=i:null===i?(a[t]=n.observable(null),e.ctx[t]=n.observable(null)):e.ctx[t]=n.observable(i))})),this.val("vars")&&t.each(this.val("vars"),function(t,a){e.ctx[t]=n.isObservable(a)?a:n.observable(a)});var i=this.getValue().nameParam;i&&"string"==typeof i&&(e.ctx[i]=n.observable(null)),this.setParams()},f.getValue=function(){return this.valueAccessor?h.value(this.valueAccessor()):{}},f.getParentPage=function(){return i.getParentPage(this.bindingContext)},f.getId=function(){return this.val("id")},f.id=function(){var e=this.getCurrentId();return null==e||""===e?this.getId():e},f.sourceUrl=function(e){var t=this;return"?"===this.getId()?n.computed(function(){var n;return n=t.val("deep")?[t.currentId].concat(t.route).join("/"):t.currentId,h.value(e).replace("{1}",n)}):n.computed(function(){return h.value(e)})},f.loadWithOnShow=function(){var e=this;e.withOnShowLoaded&&e.val("sourceCache")===!0||(e.withOnShowLoaded=!0,e.val("withOnShow")(function(t){var a=e.bindingContext.createChildContext(t);e.ctx=t,e.childBindingContext=a,e.augmentContext(),n.utils.extend(a,{$page:e}),v(e),e.route&&e.childManager.showChild(e.route)},e))},f.loadSource=function(e){var a=this.getValue(),r=this,o=this.element,l=null,s=a.loader||i.loader;if("iframe"===a.frame){var u=t("iframe",t(o));0===u.length&&(u=t("<iframe></iframe>"),t(o).append(u)),s&&(l=h.value(s)(r,u),l.load()),u.one("load",function(){l&&l.unload(),a.sourceLoaded&&a.sourceLoaded(r)}),n.applyBindingsToNode(u[0],{attr:{src:this.sourceUrl(e)}})}else{s&&(l=h.value(s)(r,r.element),l.load());var c=function(){l&&l.unload(),r.val("withOnShow")?r.val("withOnShow")&&r.loadWithOnShow():v(r),a.sourceLoaded&&a.sourceLoaded(r),r.route&&r.childManager.showChild(r.route)};if("string"==typeof h.value(e)){var d=h.value(this.sourceUrl(e));m(o,d,function(){c()},r)}else{var f=t(o).children();h.value(e)(this,function(){t.each(f,function(e,t){n.utils.domNodeDisposal.removeNode(t)}),c()})}}};var p=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,m=function(e,a,i,o){var l,s,u=t(e),h=a.indexOf(" ");h>=0&&(l=a.slice(h,a.length),a=a.slice(0,h));var c=jQuery.ajax({url:a,type:"GET",dataType:"html",complete:function(e,t){i&&u.each(i,s||[e.responseText,t,e])}}).done(function(e){s=arguments,t.each(u.children(),function(e,t){n.utils.domNodeDisposal.removeNode(t)}),u.html(l?jQuery("<div>").append(e.replace(p,"")).find(l):e)});return c.fail(function(){r(o,"onSourceError",{url:a,xhrPromise:c})}),u};f.show=function(t){var n=this.element,a=this;a.showElementWrapper(t),a.val("title")&&(e.document.title=a.val("title")),a.val("sourceOnShow")?(!a.val("sourceCache")||!n.__pagerLoaded__||"number"==typeof a.val("sourceCache")&&n.__pagerLoaded__+1e3*a.val("sourceCache")<i.now())&&(n.__pagerLoaded__=i.now(),a.loadSource(a.val("sourceOnShow"))):a.val("withOnShow")&&a.loadWithOnShow()},f.titleOrId=function(){return this.val("title")||this.id()},f.showElementWrapper=function(e){var t=this;r(t,"beforeShow"),t.showElement(e),t.val("scrollToTop")&&t.element.scrollIntoView(),r(t,"afterShow")},f.showElement=function(e){this.val("showElement")?this.val("showElement")(this,e):this.val("fx")?i.fx[this.val("fx")].showElement(this,e):i.showElement?i.showElement(this,e):t(this.element).show(e)},f.hideElementWrapper=function(e){this.isVisible(!1),r(this,"beforeHide"),this.hideElement(e),r(this,"afterHide")},f.hideElement=function(e){this.val("hideElement")?this.val("hideElement")(this,e):this.val("fx")?i.fx[this.val("fx")].hideElement(this,e):i.hideElement?i.hideElement(this,e):(t(this.element).hide(),e&&e())},f.getFullRoute=function(){return this._fullRoute?this._fullRoute:(this._fullRoute=n.computed(function(){var e=null;return this.currentParentPage&&this.currentParentPage()?(e=this.currentParentPage().getFullRoute()().slice(0),e.push(this.originalRoute()||this.getId()),e):this.parentPage?(e=this.parentPage.getFullRoute()().slice(0),e.push(this.originalRoute()||this.getId()),e):[]},this),this._fullRoute)},f.getRole=function(){return this.val("role")||"next"},f.isStartPage=function(){return"start"===this.getId()||"start"===this.getRole()},f.nullObject=new i.Page,f.nullObject.children=n.observableArray([]),f.child=function(e){var a=this;return null==a._child&&(a._child={}),a._child[e]||(a._child[e]=n.computed(function(){var n=t.grep(this.children(),function(t){return t.id()===e})[0];return n||this.nullObject},this)),a._child[e]},i.getActivePage=function(){for(var e=i.page;null!=e.currentChildPage()();)e=e.currentChildPage()();return e},n.bindingHandlers.page={init:function(e,t,n,a,r){var o=null;return h.value(t())instanceof i.Page?(o=h.value(t()),o.element=e,null==o.allBindingsAccessor&&(o.allBindingsAccessor=n),null==o.viewModel&&(o.viewModel=a),null==o.bindingContext&&(o.bindingContext=r)):o=new i.Page(e,t,n,a,r),o.init()}},i.useHTML5history=!1,i.rootURI="/",i.Href=function(e,t,a,i,r){this.element=e,this.bindingContext=r,this.path=n.observable(),this.pageOrRelativePath=n.observable(t)};var b=i.Href.prototype;return b.getParentPage=function(){return i.getParentPage(this.bindingContext)},b.init=function(){var e=this,t=e.getParentPage();e.path=n.computed(function(){var n=h.value(e.pageOrRelativePath()());return t.path(n)})},i.Href.hash="#",b.bind=function(){n.applyBindingsToNode(this.element,{attr:{href:this.path}})},b.update=function(e){this.pageOrRelativePath(e)},i.Href5=function(){i.Href.apply(this,arguments)},i.Href5.prototype=new i.Href,i.Href5.history=e.History,i.Href5.prototype.bind=function(){var e=this;n.applyBindingsToNode(e.element,{attr:{href:e.path},click:function(){var n=e.path();(""===n||"/"===n)&&(n=t("base").attr("href")),i.Href5.history.pushState(null,null,n)}})},n.bindingHandlers["page-href"]={init:function(e,t,n,a,r){var o=i.useHTML5history?i.Href5:i.Href,l=new o(e,t,n,a,r);l.init(),l.bind(),e.__ko__page=l},update:function(e,t){e.__ko__page.update(t)}},i.fx={},i.fx.cssAsync=function(e){return{showElement:function(n,a){var i=t(n.element);i.addClass(e),i.show();var r=setInterval(function(){clearInterval(r),i.addClass(e+"-in")},10),o=setInterval(function(){clearInterval(o),a&&a()},300)},hideElement:function(n,a){var i=t(n.element);if(n.pageHiddenOnce){i.removeClass(e+"-in");var r=setInterval(function(){clearInterval(r),a&&a(),i.hide()},300)}else n.pageHiddenOnce=!0,i.hide()}}},i.fx.zoom=i.fx.cssAsync("pagerjs-fx-zoom"),i.fx.flip=i.fx.cssAsync("pagerjs-fx-flip"),i.fx.popout=i.fx.cssAsync("pagerjs-fx-popout-modal"),i.fx.jQuerySync=function(e,n){return{showElement:function(n,a){e.call(t(n.element),300,a)},hideElement:function(e,a){n.call(t(e.element),300,function(){t(e.element).hide()}),a&&a()}}},i.fx.slide=i.fx.jQuerySync(t.fn.slideDown,t.fn.slideUp),i.fx.fade=i.fx.jQuerySync(t.fn.fadeIn,t.fn.fadeOut),i.startHistoryJs=function(t){var n="string"==typeof t?t:null;n&&i.Href5.history.pushState(null,null,n),i.Href5.history.Adapter.bind(e,"statechange",function(){var e=i.Href5.history.getState().url.replace(i.Href5.history.getBaseUrl(),"");s(e)}),i.Href5.history.Adapter.bind(e,"anchorchange",function(){s(location.hash)}),t&&t.noGo||s(i.Href5.history.getState().url.replace(i.Href5.history.getBaseUrl(),""))},i.start=function(n){var a="string"==typeof n?n:null;a&&(e.location.hash=i.Href.hash+a);var r=function(){s(e.location.hash)};t(e).bind("hashchange",r),n&&n.noGo||r()},i},a=e.define;"function"==typeof a&&"object"==typeof a.amd&&a.amd?a("pager",["knockout","jquery"],function(e,t){return n(t,e)}):e.pager=n(t,ko)}(window,jQuery);

if (typeof DEBUG === 'undefined') DEBUG = true;
var PostTypes = '',
	temp;

(function( $, ko ) {

	$(document).ready( function() {
		var params = {
			'action': 'getposttypes'
		};
		$.ajax({
			method: 'POST',
			data: params,
			url: ajaxurl,
			dataType: 'json',
			success: function( result ) {
				temp = ko.mapping.fromJS( result, {} );

				if ( DEBUG ) {
					console.log( temp );
				}

				PostTypes = new PostTypesViewModel( result );

//				pager.Href.hash = '#!/';

				pager.extendWithPage( PostTypes );

				ko.applyBindings( PostTypes, document.getElementById( 'devToolkitApp' ) );

				pager.start();
			},
			error: function( jqXHR, textStatus, errorMessage ) {
				console.log( 'Error: ', errorMessage );
			}
		});
	});

	ko.dirtyFlag = function(root, isInitiallyDirty) {
		var result = function() {},
		_initialState = ko.observable(ko.toJSON(root)),
		_isInitiallyDirty = ko.observable(isInitiallyDirty);

		result.isDirty = ko.computed(function() {
			return _isInitiallyDirty() || _initialState() !== ko.toJSON(root);
		});

		result.reset = function() {
			_initialState(ko.toJSON(root));
			_isInitiallyDirty(false);
		};

		return result;
	};

	ko.bindingHandlers.selectWithOther = {
		init: function( element, valueAccessor, allBindingsAccessor ) {
	        //initialize datepicker with some optional options
	        var observable = valueAccessor(),
	        	selectInput = $( element ).find( 'select' )[0],
	        	textInput = $( element ).find( 'input[type="text"]' )[0];


	        // Set the initial value
	        for ( var i=0; i<selectInput.options.length; i++ ) {
	        	if ( selectInput.options[i].value === observable() ) {
	        		selectInput.selectedIndex = i;
	        		textInput.disabled = true;
	        		break;
	        	}
	        }
	        if ( textInput.disabled ) {
	        	$( selectInput ).val( observable() );
	        } else {
	        	$( selectInput ).val( 'other' );
	        	$( textInput ).val( observable() );
	        }
	        
	        // handle the field changing
	        ko.utils.registerEventHandler( selectInput, "change", function () {
	        	var observable = valueAccessor(),
	        		newValue = $( this ).val();

	        	if ( newValue !== 'other' ) {
	        		observable( newValue );
	        		textInput.disabled = true;
	        	} else {
	        		observable( $( textInput ).val() );
	        		textInput.disabled = false;
	        	}

	        });
	        ko.utils.registerEventHandler( textInput, "change", function () {
	        	var observable = valueAccessor(),
	        		newValue = $( this ).val();

	        	observable( newValue );
	        });

	    },
	    update: function( element, valueAccessor ) {
	        var observable = valueAccessor(),
	        	selectInput = $( element ).find( '.selectfield' )[0],
	        	textInput = $( element ).find( '.textfield' )[0];

	        textInput.disabled = false;
	        // Set the initial value
	        for ( var i=0; i<selectInput.options.length; i++ ) {
	        	if ( selectInput.options[i].value === observable() ) {
	        		selectInput.selectedIndex = i;
	        		textInput.disabled = true;
	        		break;
	        	}
	        }
	        if ( textInput.disabled ) {
	        	$( selectInput ).val( observable() );
	        } else {
	        	$( selectInput ).val( 'other' );
	        	$( textInput ).val( observable() );
	        }
	    }
	};

	ko.bindingHandlers.booleanValue = {
	    init: function(element, valueAccessor, allBindingsAccessor) {
	        var observable = valueAccessor(),
	            interceptor = ko.computed({
	                read: function() {
	                    return observable().toString();
	                },
	                write: function(newValue) {
	                	if ( newValue === "true" ) {
	                		observable( true );
	                	} else if ( newValue === "false" ) {
	                		observable( false );
	                	} else {
	                    	observable( newValue );
	                	}
	                }                   
	            });
	        
	        ko.applyBindingsToNode(element, { value: interceptor });
	    }
	};

	var PostTypeMapping = {
		'postTypes': {
			create: function( data ) {
				
				return new PostTypeViewModel( data.data );
			}
		}
	}

	var PostTypeViewModel = function( data ) {

		if ( DEBUG ) {
			// console.log( data );
			
		}

		ko.mapping.fromJS( data, {}, this );



		// console.log( this.show_ui() );

		// this.supports = ko.observable
		// 
		this.editPostType = function( koObject, event ) {
			PostTypes.posttypeedit( koObject );
		}

		// this.isDirty = ko.computed( function() {
		// 	console.log( 'Map: ', this );
		// 	return this;
		// 	// console.log( 'This: ', ko.mapping.toJSON( this ) );
		// })

		this.source = ko.computed( function() {
			if ( this._builtin() === true ) {
				return 'Core';
			} else {
				return 'Plugin';
			}
		}, this );

		this.dirtyFlag = ko.dirtyFlag( this, false );
	}

	var PostTypesViewModel = function( data ) {
		var self = this;

		ko.mapping.fromJS( data, PostTypeMapping, this );

		self.originalPostData = ko.mapping.fromJS( data, PostTypeMapping );

		self.modifiedPostTypes = ko.observableArray();

		self.posttypeedit = ko.observable();

		self.isDetailView = ko.observable( false );

		self.postTypeName = ko.observable();

		self.postTypeName.subscribe( function( newValue ) {
			self.posttypeedit( self.getByName( newValue ) );
			// console.log( 'Update to: ', newValue );
		} );

		self.addSupports = function( koObject, event, d ) {

			if ( self.posttypeedit().supports.indexOf( event.target.value ) !== -1 ) {
				self.posttypeedit().supports.remove( event.target.value );
			} else {
				self.posttypeedit().supports.push( event.target.value );
			}

			return true;

		}

		self.addTaxonomy = function( koObject, event, d ) {

			if ( self.posttypeedit().taxonomies.indexOf( event.target.value ) !== -1 ) {
				self.posttypeedit().taxonomies.remove( event.target.value );
			} else {
				self.posttypeedit().taxonomies.push( event.target.value );
			}

			return true;
		}

		self.getByName = function( postTypeName ) {
			var match = ko.utils.arrayFirst( self.postTypes(), function( item ) {
				return postTypeName === item.name();
			});

			return match;
		}

		self.editPostType = function( koObject, event ) {
			self.posttypeedit( koObject );
			// self.posttypeedit().dirtyFlag = new ko.basicDirtyFlag( self.posttypeedit() );
			// self.posttypeedit().dirtyFlag.subscribe( function( object ) {
			// 	console.log( 'Change: ', object );
			// })
			$('.tooltip-item').tooltip()
			return true;
		}

		self.setEditMode = function( page ) {
			self.isDetailView( page.page.currentId !== 'viewall' );
			// console.log( 'Page is: ', page.page.currentId );
		}

		self.clearEditPostType = function( koObject, event ) {
			self.posttypeedit( null );
		}
	}

})( jQuery, ko );